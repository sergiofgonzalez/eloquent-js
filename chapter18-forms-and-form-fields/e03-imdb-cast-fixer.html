<!doctype html>
<html>
  <head>
    <title>IMDB Cast Fixer</title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <h1>IMDB Cast Fixer</h1>
    <p>
      Paste the contents from IMDB cast
    </p>
    <textarea id="textareaInput"></textarea>
    <button id="btnFix" disabled>Fix!</button>
    <p>Output:</p>
    <textarea id="textareaOutput"></textarea>
    <div id="suggestions" style="cursor: pointer"></div>
    <script src="code/imdb-cast-formatter.js"></script>
    <script>
      "use strict";

      var btn = document.querySelector("#btnFix");
      var input = document.querySelector("#textareaInput");
      var output = document.querySelector("#textareaOutput");

      input.addEventListener("input", function() {
        btn.disabled = input.value.length === 0;
      });

      btn.addEventListener("click", function() {
        try {
          output.value = getCastAsFormattedString(input.value);
        } catch (e) {
          output.value = "";
          alert(e);
        }
        
        btn.disabled = true;
      });
    </script>
  </body>
</html>
