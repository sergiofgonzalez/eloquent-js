<!doctype html>
<html>
  <head>
    <title>Hello, Flip Horizontally</title>
  </head>
  <body>
    <h1>Hello, Flip Horizontally</h1>
    <p>Before canvas.</p>
    <canvas></canvas>
    <p>After canvas.</p>
    <script>
      "use strict";

      function flipHorizontally(context, around) {
        context.translate(around, 0);
        context.scale(-1, 1);
        context.translate(-around, 0);
      }

      var context = document.querySelector("canvas").getContext("2d");
      var img = document.createElement("img");
      img.src = "img/player.png";
      var spriteWidth = 24, spriteHeight = 30;
      img.addEventListener("load", function() {
        var cycle = 0;
        flipHorizontally(context, 100 + spriteWidth / 2);
        context.drawImage(img,
                            // source rectangle
                            cycle * spriteWidth, 0, spriteWidth, spriteHeight,
                            // destination rectangle
                            0, 0, spriteWidth, spriteHeight);
      });
    </script>
  </body>
</html>
