<!doctype html>
<html>
  <head>
    <title>Hello, Sprites</title>
  </head>
  <body>
    <h1>Hello, Sprites</h1>
    <p>Before canvas.</p>
    <canvas></canvas>
    <p>After canvas.</p>
    <script>
      "use strict";
      var context = document.querySelector("canvas").getContext("2d");
      var img = document.createElement("img");
      img.src = "img/player.png";
      var spriteWidth = 24, spriteHeight = 30;
      img.addEventListener("load", function() {
        var cycle = 0;
        setInterval(function() {
          context.clearRect(0, 0, spriteWidth, spriteHeight);
          context.drawImage(img,
                              // source rectangle
                              cycle * spriteWidth, 0, spriteWidth, spriteHeight,
                              // destination rectangle
                              0, 0, spriteWidth, spriteHeight);
          cycle = (cycle + 1) % 8;
        }, 120);
      });
    </script>
  </body>
</html>
